{% extends "base.html" %}
{% block content %}
    <h2>Python/Flask</h2>
    <div class="row">
        <div class="col-8">
            <p>
            <h5>Pytest</h5>
            <br>
           -pytest are used to write small, readable tests which can be scaled to more complex testing.
-pytest are written using simple ”assert” statements.
            </br>
            </p>
            <p>
            <h5>Examples of pytests</h5>
             <h6>Example 1</h6>
            <br>
           def test_request_index(client):
    """This makes the index page"""
    response = client.get("/")
    assert response.status_code == 200
    assert b"Index Page" in response.data
            </br>
        <br>
        This is a test for the index page of a website. This creates a test that checks if ,  the page successfully responded (status_code = 200) , and checks if the text “index page” is present in the page if not the test will fail.
    </br>
            </p>

            <p>
            <h6>Example 2</h6>
            <br>
           def test_context_variables_year(client):
    """This tests checks if the current year is printed"""
    response = client.get("/")
    current_date_time = datetime.datetime.now()
    date = current_date_time.date()
    year = date.strftime("%Y")
    test_string = f"Copyright: {year}"
    content = bytes(test_string, 'utf-8')
    assert response.status_code == 200
    assert content in response.data
            </br>
    <br>This test checks if the  the page successfully responded (status_code = 200) and if the current date is getting printed on the
Page.</br>

            </p>

            <p>
            <h6>Example 3</h6>
            <br>
          def test_request_main_menu_links(client):
    response = client.get("/")
    assert response.status_code == 200
    assert b'&lt;a class="nav-link" href="/page1"&gt;GIT&lt;/a&gt;' in response.data
    assert b'&lt;a class="nav-link" href="/page2"&gt;Docker&lt;/a&gt;' in response.data
    assert b'&lt;a class="nav-link" href="/page3"&gt;Python/Flask&lt;/a&gt;' in response.data
    assert b'&lt;a class="nav-link" href="/page4"&gt;CI/CD&lt;/a&gt;' in response.data
            </br>
    <br> This test checks if all the main menu items that appear in all pages are being linked correctly.</br>


            </p>

            <p>
            <h5>Creation of Simple pages:</h5>
            <br>
           - First step is to make a directory ‘simple_pages’ that has a sub folder ‘templates’ which stores the html templates of all the pages.
- By using a base template ‘base.html’ we can create multiple pages that extend this template and we can add additional features into each page
- The base template has the head and footer template and navbar items linking to specific pages.
- Tests are written for each page in the simple pages/templates folder.
- The tests check whether the page is loading and is responding and checks if the expected content is being loaded onto the page.
- There is a test to check if all the links in the main menu are present.
            </br>
            </p>

            <p>
                <h5>Outline of the file structure</h5>
            <br>- Project_1 <- Root of the project
    -.github
      -workflows <- contains workflows for both dev and prod
          -dev.yml <- The configuration file for developement workflow. it runs the app on the docker dev app 'sumana-dev'.
          -prod.yml <- it is the configuration file for production workflow . it runs the app on prod heroku app 'sumana-prod'
    -app
       -context_processors
          -__init__.py <- Context processors run before the template is rendered and have the ability to inject new values into the template context. A context processor is a function that returns a dictionary
       -simple_pages
          -templates<- templates of all the html pages
          		-index.html<- home/index page of the website
          		-page1.html<- content page 1 contains GIT notes
          		-page2.html<- content page 2 contains Docker notes
          		-page3.html<- content page 3 contains python/flask notes
          		-page4.html<- content page 4 contains CI/CD notes
           -__init__.py<- renders the appropriate html page temple when the function 'show(page)' is called
    	-static<- contains all static files
       		-css
          		-styles.css<- used to style and layout web pages
        	-images<- images used for the carousel slides
           		-CICD.png
           		-docker.png
           		-git.png
           		-python-flask.jpeg
        	-js
           		-styles.js<- used for making the website interactive
    	-templates
        		-base.html<- this is the main template that is used in all of the html pages. it contains all the required meta tags , bootstrap css , the main menu(navbar) specifications , head and footer for all pages.

        -__init__.py<- used to create and configure an instance of the Flask application
        -run.py<- allows Gunicorn to serve the app in production
    -tests
       -context_process_test.py<- checks whether the context processors are printed on the webpage.
       -simple_pages_test.py<- has tests for each page of the website , checks if pages are loading/responsive and checks if the content of the pages is whats expected
    -.coveragerc<- is the configuration file for coverage.py this makes it easier to re-run coverage.py with consistent settings
	-.dockerignore<- used to exclude files and directories that match patterns in the dockerignorefile prior to docker CLI sending the context to the docker daemon.
	-.gitignore<- tells git to ignore all the files(untracked) listed in this file
	-.pylintrc<- its the configuration file for pylint
	-docker-compose.yml<- Orchestration file that contains the configuration to develop locally, it overrides the        dockerfile to run the flask development server instead of running the gunicorn server that is used for hosting on Heroku
	-Dockerfile<- File used to create an image to run in a container that runs the program
	-heroku.yml<- configuration file for heroku apps
	-pytest.ini<- configuration file giving instructions on how the pytest should run
	-readme.md<- simple plain text used for documentaion. in this project has the links to dev and prod heroku apps and badges for dev and prod workflows
	-requirements.txt<- contains list of all the project dependencies
	-setup.py<- configuration file for pytest</br>
            </p>
        </div>

        <div class="col">

            <div class="card mt-5" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">Links</h5>
                    <p><a href="https://flask.palletsprojects.com/en/2.0.x/tutorial/tests/">Flask testing with PyTest </a></p>
                    <p><a href="https://github.com/sumanaashok/IS601_Project_1">Link to the project on Github</a></p>
                    <p><a href="https://flask.palletsprojects.com/en/2.0.x/">Link to flask </a></p>
                    <p><a href="https://flask.palletsprojects.com/en/2.0.x/tutorial/views/">Flask Blueprint documentation </a></p>
                </div>
            </div>

        </div>


    </div>



{% endblock %}